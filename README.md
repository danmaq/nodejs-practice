# NodeJS ã‚’è§¦ã£ã¦ã¿ã‚ˆã†

## å¯¾è±¡è€…

* JavaScript ãŒæœ€ä½é™å°‘ã—ã¯ç†è§£ã—ã¦ã„ã‚‹  
  (ä¾‹ãˆã°ãƒ–ãƒ©ã‚¦ã‚¶ã§ alert ã‚’è¡¨ç¤ºã§ãã‚‹ãƒ¬ãƒ™ãƒ«ã€ã‚‚ã—ãã¯ãã‚Œä»¥ä¸Šã®äºº)
* NodeJS æœªçµŒé¨“

## NodeJS ã¨ã¯ï¼Ÿ

ãƒ–ãƒ©ã‚¦ã‚¶ã§ã—ã‹å‹•ã‹ãªã„ JavaScript ã‚’ **ã©ã“ã§ã‚‚å‹•ã‹ãã†ãœ** ã£ã¦ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚  
ãƒ–ãƒ©ã‚¦ã‚¶ä»¥å¤–ã®ã©ã“ã§ã‚‚å‹•ã‹ã›ã‚‹ã®ã§ã€ã‚µãƒ¼å©†ã‚µã‚¤ãƒ‰ãªã©ã«ã‚‚ç”¨ã„ã‚‰ã‚Œã¾ã™ã€‚

ä»Šå›ã€Mac ç‰ˆã¨ Windows ç‰ˆã«ã¤ã„ã¦è§¦ã‚Œã¦ã„ãã¾ã™ã€‚

## äºˆã‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãŠãã‚‚ã®

* ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼  
  ç«¯çš„ã«è¨€ã†ã¨ **ã‚³ãƒãƒ³ãƒ‰ä¸€ç™ºã§ã‚¢ãƒ—ãƒªã‚’å…¥ã‚Œã‚ˆã†ãœ** ã£ã¦ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚
  é‡å®ã™ã‚‹(ã—ã€ä»Šå›ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ç·¨ã§é•·ã€…ã¨ã—ãŸè¨˜äº‹æ›¸ããŸããªã„)ã®ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ãŠãã¾ã—ã‚‡ã†ã€‚
    * Windows
        * [Chocolatey](https://chocolatey.org)
    * Mac
        * [Homebrew](https://brew.sh/index_ja)
* å¥½ããªãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒ‡ã‚£ã‚¿ ([Visual Studio Code](https://www.microsoft.com/ja-jp/dev/products/code-vs.aspx)ã‚’å¼·ãæ¨å¥¨)  
  ã¡ãªã¿ã«ã“ã‚Œã‚‚ä¸Šè¨˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ãƒ¼ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã¾ã™ã€‚
  æœ¬é¡Œã‹ã‚‰å¤–ã‚Œã‚‹ã®ã§å‰²æ„›ã—ã¾ã™ãŒã€ä½™åŠ›ãŒã‚ã‚Œã°èª¿ã¹ã¦ã¿ã‚‹ã¨è‰¯ã„ã§ã—ã‚‡ã†ã€‚

## NodeJS ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã‚ˆã†

### Windows

1. ç®¡ç†è€…æ¨©é™ã§ PowerShellã€ã‚‚ã—ãã¯ ã‚³ãƒãƒ³ãƒ‰ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’èµ·å‹•ã—ã¾ã™ã€‚
2. ä¸‹è¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¾ã™ã€‚  
   `-y` ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚’çœç•¥ã™ã‚‹ã¨ã€â€œæœ¬å½“ã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã®ï¼Ÿâ€ ã¨ `[y/N]` ç¢ºèªãŒå‡ºã¾ã™ã€‚

```PowerShell
> choco install -y nodejs
```

### Mac

1. ã‚¿ãƒ¼ãƒŸãƒŠãƒ« ã‚¢ãƒ—ãƒªã‚’èµ·å‹•ã—ã¾ã™ã€‚
2. ä¸‹è¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã™ã‚‹ã¨ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¾ã™ã€‚

```sh
$ brew install node
```

### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ç¢ºèª

3. ä¸‹è¨˜ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦ã€ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚  
   æ­£ã—ãã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹å ´åˆã€ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç•ªå·ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚

```sh
$ node -v
```

## Hello, world!

```sh
$ node -e 'console.log("Hello, world!")'
```

## NodeJS ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œã‚ã†

NodeJS ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ ãƒ•ã‚¡ã‚¤ãƒ«ã¨ãªã‚‹ã€`package.json` ã‚’ä½œã‚Šã¾ã™ã€‚

```sh
$ npm init
```

ã„ãã¤ã‹ã®è³ªå•ãŒå‡ºã¦ãã¾ã™ãŒã€ãã®ã¾ã¾æ—¢å®šå€¤ (Enter é€£æ‰“) ã§ OK ã§ã™ã€‚  
ç´°éƒ¨ã¯ç•°ãªã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ãŒã€ã–ã£ãã‚Šã“ã‚“ãªæ„Ÿã˜ã®å†…å®¹ãŒã§ãã‚‹ã¨æ€ã„ã¾ã™ã€‚

```JSON
{
  "name": "nodejs-practice",
  "version": "1.0.0",
  "description": "## NodeJS ã¨ã¯ï¼Ÿ",
  "main": "index.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "repository": {
    "type": "git",
    "url": "git+https://github.com/danmaq/nodejs-practice.git"
  },
  "author": "",
  "license": "ISC",
  "bugs": {
    "url": "https://github.com/danmaq/nodejs-practice/issues"
  },
  "homepage": "https://github.com/danmaq/nodejs-practice#readme"
}
```

ã“ã“ã§é‡è¦ãªã®ã¯ã€`"scripts": { ... }` ã®ä¸­èº«ã§ã™ã€‚
ä»Šã¯ `"test"` ã ã‘ãŒã‚ã‚Šã¾ã™ãŒã€ã“ã‚Œã¯ã‚³ãƒãƒ³ãƒ‰ã¨ã—ã¦ npm ã‹ã‚‰å‹•ã‹ã™ã“ã¨ãŒã§ãã¾ã™ã€‚

```sh
$ npm run test
Error: no test specified
npm ERR! Test failed.  See above for more details.
```

`exit 1` ãªã©çµ‚äº†æ™‚ã« `0` ä»¥å¤–ã‚’è¿”ã™ã¨ã€ã‚¨ãƒ©ãƒ¼ã¨ã—ã¦èªè­˜ã•ã›ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚
ã“ã“ã§ã¯ â€œãƒ†ã‚¹ãƒˆãªã‚“ã¦ãªã„â€ ã£ã¦æ„å‘³ã§ã—ã‚‡ã†ã‹ã€‚

æ—©é€Ÿã“ã“ã«ã‚³ãƒ¼ãƒ‰ã‚’è¿½åŠ ã—ã¾ã—ã‚‡ã†ã€‚ãã†ã§ã™ã­ã€ã•ã£ãã® Hello, world! ã‚’æ›¸ã„ã¦è¦‹ã¾ã—ã‚‡ã†ã€‚

```diff
  "scripts": {
+   "start": "node -e \"console.log('Hello, world!')\"",
    "test": "echo \"Error: no test specified\" && exit 1"
  },
```

`"` ãŒå…¥ã‚Œå­ã«ãªã£ã¦ã—ã¾ã†ã®ã§ `\` ã§ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—(å¾Œç¶šãƒ¯ãƒ¼ãƒ‰ã‚’ãŸã ã®æ–‡å­—æ‰±ã„ã«)ã—ã¦ã‚„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

æ›¸ãçµ‚ã‚ã£ãŸã‚‰æ—©é€Ÿå®Ÿè¡Œã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

```sh
$ npm run start
Hello, world!
```

ãªãŠã€`"start"` ã®ã‚ˆã†ãª[ä¸€éƒ¨ã®ã‚³ãƒãƒ³ãƒ‰](https://docs.npmjs.com/misc/scripts)ã¯ã€`npm start` ã¨ `run` ã‚’çœç•¥ã§ãã¾ã™ã€‚

## NodeJS ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ JavaScript ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ã¦å‹•ã‹ã™

å‰å›ãƒ¯ãƒ³ãƒ©ã‚¤ãƒŠãƒ¼ã ã‘ã§çµ‚ã‚ã£ã¦ã—ã¾ã„ã¾ã—ãŸãŒã€ä»Šåº¦ã¯ã¡ã‚ƒã‚“ã¨ã—ãŸã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã‚’å‹•ã‹ã—ã¦è¦‹ã¾ã—ã‚‡ã†ã€‚

ãŸã¨ãˆã° 1ã€œ10 ã‚’è¡¨ç¤ºã™ã‚‹ã‘ã©ã€3 ã®å€æ•°ã ã‘ `ğŸ¤”` ã‚’è¡¨ç¤ºã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’æ›¸ã„ã¦ã¿ã¾ã—ã‚‡ã†ã€‚
`index.js` ã¨ã„ã†ç©ºã®ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¦ã€ä¸­èº«ã‚’ä¸‹è¨˜ã®ã‚ˆã†ã«ã—ã¾ã™ã€‚

```JavaScript
Array(10)
  .fill()
  .map((undef, index) => index + 1)
  .map(value => value % 3 ? value : 'ğŸ¤”')
  .forEach(value => console.log(value));
```

æ¬¡ã«å…ˆã»ã©ã® `"start"` ã‚’æ›¸ãæ›ãˆã¾ã—ã‚‡ã†ã€‚

```diff
  "scripts": {
-   "start": "node -e \"console.log('Hello, world!')\"",
+   "start": "node index.js",
    "test": "echo \"Error: no test specified\" && exit 1"
  },
```

(ãªãŠã€ã“ã‚Œã‚‰ `"scripts": { ... }` ã«å›²ã¾ã‚Œã¦ã„ã‚‹éƒ¨åˆ†ã‚’ç·ç§°ã—ã¦ **npm-scripts** ã¨å‘¼ã³ã¾ã™ã€‚ä»¥å¾Œãã®ã‚ˆã†ã«è¡¨è¨˜ã—ã¾ã™)

æ›¸ãçµ‚ã‚ã£ãŸã‚‰æ—©é€Ÿå®Ÿè¡Œã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚

```sh
$ npm start
0ç•ªç›®ã¯ã€1
1ç•ªç›®ã¯ã€2
2ç•ªç›®ã¯ã€ğŸ¤”
3ç•ªç›®ã¯ã€4
4ç•ªç›®ã¯ã€5
5ç•ªç›®ã¯ã€ğŸ¤”
6ç•ªç›®ã¯ã€7
7ç•ªç›®ã¯ã€8
8ç•ªç›®ã¯ã€ğŸ¤”
9ç•ªç›®ã¯ã€10
```

ç„¡äº‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒå‹•ãã¾ã—ãŸã€‚

# TODO

* `_.range()`
* `npm install`
* `node_scripts`
